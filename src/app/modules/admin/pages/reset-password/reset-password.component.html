
<div class="jumbotron bg-white jumbotron-fluid my-0">
        <div class="row mx-0">
            <div class="col-md-4 offset-md-4">
                <form class="form" #form="ngForm" (ngSubmit)="submit()">
                    <div class="form-group text-center form-logo">
                        <img src="../../../../../assets/logo.png">
                    </div>
                    <div class="form-group text-center">
                        <h3>Password Reset</h3>
                        <p *ngIf="tokenSent">Check your mail, a reset token has been sent.</p>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" name="email" required [(ngModel)]="model.email" id="email" class="form-control">
                    </div>
                    <div class="form-group" *ngIf="hasToken">
                        <label for="token">Token</label>
                        <input type="text" name="token" class="form-control" [(ngModel)]="model.token" required>
                    </div>
                    <div class="form-group" *ngIf="hasToken">
                        <label for="new_password">New Password</label>
                        <input type="password" name="new_password" class="form-control" [(ngModel)]="model.new_password" required>
                    </div>
                    <div class="form-group text-center">
                        <button type="submit" [disabled]="form.invalid || processing" class="btn btn-sm btn-info">
                            <span *ngIf="!processing && !hasToken">Send Verification Token</span>
                            <span *ngIf="!processing && hasToken">Reset Password</span>
                            <i  *ngIf="processing" class="fa fa-spinner fa-pulse fa-2x fa-fw"></i>
                        </button>
                        <a href="javascript:void(0)" *ngIf="!hasToken" (click)="hasToken = true" class="btn btn-sm btn-link mx-1">I have the token</a>
                        <a href="javascript:void(0)" *ngIf="hasToken" (click)="hasToken = false" class="btn btn-sm btn-link mx-1">Resend the token</a>
                        <a routerLink="/admin/login" class="btn btn-sm btn-link mx-1">Login</a>
                    </div>
                </form>
            </div>
        </div>
    </div>